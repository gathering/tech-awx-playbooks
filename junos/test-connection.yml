---
- hosts: junos
  become: true
  gather_facts: no
  connection: local
  collections:
     - juniper.device
  tasks:
    - name: collect default set of facts
      facts:
        host: "{{ mgmt_v4_addr }}"
        user: "{{ lookup('env','ANSIBLE_NET_USERNAME') }}"
        passwd: "{{ lookup('env','ANSIBLE_NET_PASSWORD') }}"